{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enverd\\\\Purwadhika\\\\FrontEnd\\\\bioskopticketing\\\\src\\\\pages\\\\transaction.jsx\";\nimport React from 'react';\nimport { Table } from 'reactstrap';\nimport numeral from 'numeral';\nimport Axios from 'axios';\nconst instance = axios.create();\n\nclass Transaction extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      seat: [],\n      moviename: [],\n      price: 35000\n    };\n\n    this.printCart = () => {\n      var output = this.state.seat.map((value, index) => {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, index + 1), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, this.state.moviename), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, value), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, \"Rp \" + numeral(this.state.price).format(0, 0)));\n      });\n      return output;\n    };\n\n    this.onCheckOut = () => {\n      Axios.get('http://localhost:2000/movies?title=' + this.state.moviename).then(res => {\n        var seat = this.state.seat;\n        console.log(res.data[0].booked);\n\n        for (var i = 0; i < seat.length; i++) {\n          res.data[0].booked.push(seat[i]);\n        }\n\n        console.log(res.data[0].booked);\n        Axios.put('http://localhost:2000/movies?title=' + this.state.moviename, res.data[0]).then(result => {\n          window.alert(\"Checkout Berhasil\");\n          console.log(result.data);\n        }).catch(err2 => {\n          console.log(err2);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    var listseat = this.props.location.state.seatnumber;\n    var moviename = this.props.location.state.moviename;\n    console.log(moviename);\n    this.setState({\n      seat: listseat,\n      moviename: moviename\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"mycontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Table, {\n      dark: true,\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"No\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Movie Name\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Seat Number\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Price\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.printCart(), React.createElement(\"tr\", {\n      className: \"filtercss\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Total Price : \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Rp \" + numeral(this.state.seat.length * this.state.price).format(0, 0)))), React.createElement(\"tfoot\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"button\",\n      className: \"form-control btn-lg btn btn-success filtercss\",\n      value: \"CHECKOUT\",\n      onClick: () => this.onCheckOut(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Transaction;","map":{"version":3,"sources":["C:\\Users\\Enverd\\Purwadhika\\FrontEnd\\bioskopticketing\\src\\pages\\transaction.jsx"],"names":["React","Table","numeral","Axios","instance","axios","create","Transaction","Component","state","seat","moviename","price","printCart","output","map","value","index","format","onCheckOut","get","then","res","console","log","data","booked","i","length","push","put","result","window","alert","catch","err2","err","componentDidMount","listseat","props","location","seatnumber","setState","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Table } from 'reactstrap'\r\nimport numeral from 'numeral'\r\nimport Axios from 'axios';\r\nconst instance = axios.create();\r\n\r\n\r\n\r\nclass Transaction extends React.Component{\r\n    state = {\r\n        seat : [],\r\n        moviename : [],\r\n        price : 35000\r\n    }\r\n    componentDidMount(){\r\n        var listseat = this.props.location.state.seatnumber\r\n        var moviename = this.props.location.state.moviename\r\n        console.log(moviename)\r\n        this.setState({\r\n            seat : listseat,\r\n            moviename : moviename\r\n        })\r\n    }\r\n    printCart = () => {\r\n        var output = this.state.seat.map((value, index) => {\r\n            return(\r\n                <tr>\r\n                    <td>{index+1}</td>\r\n                    <td>{this.state.moviename}</td>\r\n                    <td>{value}</td>\r\n                    <td>{\"Rp \" + numeral(this.state.price).format(0,0)}</td>\r\n                </tr>\r\n            )\r\n        })\r\n        return output\r\n    }\r\n\r\n    onCheckOut = () => {\r\n        Axios.get('http://localhost:2000/movies?title='+this.state.moviename)\r\n        .then((res)=> {\r\n            var seat = this.state.seat\r\n            console.log(res.data[0].booked)\r\n            for(var i = 0; i< seat.length; i++){\r\n                res.data[0].booked.push(seat[i])\r\n            }\r\n            console.log(res.data[0].booked)\r\n            Axios.put('http://localhost:2000/movies?title='+this.state.moviename, res.data[0])\r\n            .then((result) => {\r\n                window.alert(\"Checkout Berhasil\")\r\n                console.log(result.data)\r\n            })\r\n            .catch((err2)=>{\r\n                console.log(err2)\r\n            })\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    render(){\r\n        return(\r\n            \r\n                <div className=\"mycontainer\">\r\n                \r\n                   <Table dark className=\"mt-5\">\r\n                 \r\n                       <thead>\r\n                            <tr>\r\n                                <td>No</td>\r\n                                <td>Movie Name</td>\r\n                                <td>Seat Number</td>\r\n                                <td>Price</td>\r\n                            </tr>\r\n                       </thead>\r\n                       <tbody>\r\n                            {this.printCart()}\r\n                            <tr className=\"filtercss\"> \r\n                                <td></td>\r\n                                <td></td>\r\n                                <td>Total Price : </td>\r\n                                <td>{\"Rp \" + numeral(this.state.seat.length * this.state.price).format(0,0)}</td>\r\n                            </tr>\r\n                       </tbody>\r\n                       <tfoot></tfoot>\r\n                       \r\n                   </Table>\r\n                   <input type=\"button\" className=\"form-control btn-lg btn btn-success filtercss\" value=\"CHECKOUT\" onClick={()=>this.onCheckOut()}></input>\r\n                   </div>\r\n               \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Transaction;"]},"metadata":{},"sourceType":"module"}