{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enverd\\\\Purwadhika\\\\FrontEnd\\\\bioskopticketing\\\\src\\\\admin\\\\manageMovie.jsx\";\nimport React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport TableHead from '@material-ui/core/TableHead';\nimport Container from '@material-ui/core/Container';\nimport Axios from 'axios';\nimport { EditAttributesRounded, DeleteForeverRounded } from '@material-ui/core';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap'; // MATERIAL UI (Google) >> REACT HOOKS\n\nclass manageMovie extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      modalOpen: false,\n      genreList: [],\n      showSynopsis: false,\n      currentSynopsis: null\n    };\n\n    this.getDataMovies = () => {\n      Axios.get(\"http://localhost:2000/movies\").then(result => {\n        this.setState({\n          data: result.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.synopsisPrint = text => {\n      var arr = text.split(\" \");\n      var synarr = [];\n\n      for (var i = 0; i < 5; i++) {\n        synarr.push(arr[i]);\n      }\n\n      return synarr.join(\" \");\n    };\n\n    this.printMovieData = () => {\n      //PRINT GENRE LIST \n      this.state.data.map(val => {\n        if (this.state.genreList.indexOf(val.genre) == -1) {\n          this.state.genreList.push(val.genre);\n        }\n      });\n      console.log(this.state.genreList);\n      var output = this.state.data.map((val, index) => {\n        return React.createElement(TableRow, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, index + 1), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, val.title), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, val.genre), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: val.image,\n          height: \"50px\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, val.director), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, val.playingTime.join(\",\")), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, val.duration, \" Minutes\"), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \" \", this.state.showSynopsis == false ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, this.synopsisPrint(), React.createElement(\"p\", {\n          class: \"font-weight-bold readmore\",\n          onClick: () => this.setState({\n            showSynopsis: true,\n            currentSynopsis: val.id\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"...Read More\")) : null), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"button\",\n          value: \"edit\",\n          className: \"btn btn-block btn-primary btn-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"button\",\n          value: \"delete\",\n          className: \"btn btn-block btn-danger btn-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }))));\n      });\n      return output;\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalOpen: false\n      });\n      console.log(this.state);\n    };\n\n    this.fullSynopsisPrint = () => {\n      var id = this.state.currentSynopsis;\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.data[id].synopsis);\n    };\n\n    this.validateForm = () => {\n      var title = this.refs.inputtitle.value;\n      var director = this.refs.inputdirector.value;\n      var genre = this.refs.inputgenre.value;\n      var imgurl = this.refs.inputurl.value;\n\n      if (title.replace(/\\s/g, \"\") == \"\" || director.replace(/\\s/g, \"\") == \"\" || genre.replace(/\\s/g, \"\") == \"\" || imgurl.replace(/\\s/g, \"\") == \"\") {\n        // warning text\n        return document.getElementById(\"warningbutton\").innerHTML = \"harap mengisi form yang kosong !  \";\n      }\n\n      var regex = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/; // Dari internet\n\n      if (!regex.test(imgurl)) {\n        return document.getElementById(\"warningbutton\").innerHTML = \"url tidak valid!  \";\n      } else {\n        return document.getElementById(\"warningbutton\").innerHTML = \"url valid!  \";\n      } // const axios = require('axios');\n      // axios.post('http://localhost:2000/movies', {\n      //     id: this.state.data.length,\n      //     genre: genre,\n      //     title: title,\n      //     duration: ,\n      //     synopsis: \"Pasangan suami istri Ed Warren (Patrick Wilson) dan Lorraine Warren (Vera Farmiga) sepakat untuk meletakkan boneka Annabelle di ruang khusus mereka. Dibalik lemari kaca suci dan mendapat berkat dari seorang pendeta. Namun malapetaka datang saat Annabelle membangunkan roh-roh jahat yang ada di ruangan itu. Putri pasangan ini, Judy Warren (Mckenna Grace) dan temannya menjadi target teror baru Annabelle dan iblis jahat lainnya.\",\n      //     playingTime: [\n      //     9,\n      //     14,\n      //     20\n      //     ],\n      //     director: \"Gary Dauberman\",\n      //     image: \"https://media.21cineplex.com/webcontent/gallery/pictures/156074568118284_452x647.jpg\"\n      //     },).then(resp => {\n      //     console.log(resp.data);\n      // }).catch(error => {\n      //     console.log(error);\n      // });   \n\n    };\n\n    this.printGenreList = () => {\n      var jsx = this.state.genreList.map(val => {\n        return React.createElement(\"option\", {\n          value: val,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, val);\n      });\n      return jsx;\n    };\n  }\n\n  componentDidMount() {\n    this.getDataMovies();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"adminbackcolor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fixed: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Manage Movie Page\")), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Add Data\",\n      className: \"btn btn-success mb-2 mt-2\",\n      onClick: () => this.setState({\n        modalOpen: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      isOpen: this.state.modalOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Add Movie\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"inputtitle\",\n      className: \"form-control\",\n      placeholder: \"Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"inputdirector\",\n      className: \"form-control\",\n      placeholder: \"Director\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      required: true,\n      id: \"myList\",\n      ref: \"inputgenre\",\n      className: \"form-control\",\n      placeholder: \"Genre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      selected: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Choose Genre\"), this.printGenreList()), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"inputurl\",\n      className: \"form-control mb-2\",\n      placeholder: \"Image Url\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"warningbutton\",\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \" \")), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"SAVE\",\n      className: \"btn btn-success \",\n      onClick: this.validateForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"CANCEL\",\n      className: \"btn btn-danger\",\n      onClick: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }))), React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"No\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Title\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Genre\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Image\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Director\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Playtime\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Duration\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Synopsis\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Action\")), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, this.printMovieData())))));\n  }\n\n}\n\nexport default manageMovie;","map":{"version":3,"sources":["C:\\Users\\Enverd\\Purwadhika\\FrontEnd\\bioskopticketing\\src\\admin\\manageMovie.jsx"],"names":["React","Table","TableBody","TableCell","TableFooter","TableRow","Paper","TableHead","Container","Axios","EditAttributesRounded","DeleteForeverRounded","Button","Modal","ModalHeader","ModalBody","ModalFooter","manageMovie","Component","state","data","modalOpen","genreList","showSynopsis","currentSynopsis","getDataMovies","get","then","result","setState","catch","error","console","log","synopsisPrint","text","arr","split","synarr","i","push","join","printMovieData","map","val","indexOf","genre","output","index","title","image","director","playingTime","duration","id","closeModal","fullSynopsisPrint","synopsis","validateForm","refs","inputtitle","value","inputdirector","inputgenre","imgurl","inputurl","replace","document","getElementById","innerHTML","regex","test","printGenreList","jsx","componentDidMount","render","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport Container from '@material-ui/core/Container';\r\nimport Axios from 'axios'\r\nimport {EditAttributesRounded, DeleteForeverRounded} from '@material-ui/core' \r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\n\r\n// MATERIAL UI (Google) >> REACT HOOKS\r\n\r\nclass manageMovie extends React.Component{\r\n    // state\r\n    // lifecycle\r\n    // function\r\n    // render\r\n    state = {\r\n        data : [],\r\n        modalOpen : false,\r\n        genreList : [],\r\n        showSynopsis : false,\r\n        currentSynopsis : null,\r\n    }\r\n    componentDidMount(){\r\n        this.getDataMovies()\r\n    }\r\n    getDataMovies = () => {\r\n        Axios.get(\"http://localhost:2000/movies\")\r\n        .then((result)=>{\r\n            \r\n            this.setState({\r\n                data : result.data \r\n            })\r\n           \r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n    }\r\n    synopsisPrint = (text) => {\r\n        var arr = text.split(\" \")\r\n        var synarr = []\r\n        for(var i = 0; i<5; i++){\r\n            synarr.push(arr[i])\r\n        }\r\n        return synarr.join(\" \")\r\n        \r\n    }\r\n    \r\n    printMovieData = () => {\r\n\r\n        //PRINT GENRE LIST \r\n        this.state.data.map((val) => {\r\n            if(this.state.genreList.indexOf(val.genre) == -1){\r\n                this.state.genreList.push(val.genre)\r\n            }\r\n        })\r\n        console.log(this.state.genreList)\r\n        \r\n\r\n        var output = this.state.data.map((val,index) => {\r\n            return(\r\n                <TableRow>\r\n                    <TableCell>{index+1}</TableCell>\r\n                    <TableCell>{val.title}</TableCell>\r\n                    <TableCell>{val.genre}</TableCell>\r\n                    <TableCell><img src={val.image} height=\"50px\" alt=\"\"></img></TableCell>\r\n                    <TableCell>{val.director}</TableCell>\r\n                    <TableCell>{val.playingTime.join(\",\")}</TableCell>\r\n                    <TableCell>{val.duration} Minutes</TableCell>\r\n                    <TableCell> { this.state.showSynopsis == false ? \r\n                    <div>\r\n                    {this.synopsisPrint()}\r\n                    <p class=\"font-weight-bold readmore\"  onClick={() => this.setState({showSynopsis : true, currentSynopsis : val.id})}>...Read More</p>\r\n                    </div>\r\n                    :\r\n                    null\r\n                    }\r\n                    </TableCell>\r\n                    <TableCell>\r\n                        <div><input type=\"button\" value=\"edit\" className=\"btn btn-block btn-primary btn-sm\"></input>\r\n                        <input type=\"button\" value=\"delete\" className=\"btn btn-block btn-danger btn-sm\"></input></div>\r\n                    </TableCell>\r\n                </TableRow>\r\n            )\r\n        })\r\n        return output\r\n    }\r\n    closeModal = () => {\r\n        this.setState({\r\n            modalOpen : false\r\n        })\r\n        console.log(this.state)\r\n       \r\n    }\r\n    fullSynopsisPrint = () => {\r\n        var id = this.state.currentSynopsis\r\n        return(\r\n            <p>{this.state.data[id].synopsis}</p>\r\n        )\r\n        \r\n        \r\n    }\r\n    validateForm = () => {\r\n        var title = this.refs.inputtitle.value\r\n        var director = this.refs.inputdirector.value\r\n        var genre = this.refs.inputgenre.value\r\n        var imgurl = this.refs.inputurl.value\r\n        if(title.replace(/\\s/g, \"\") == \"\" || director.replace(/\\s/g, \"\") == \"\" || genre.replace(/\\s/g, \"\") == \"\" || imgurl.replace(/\\s/g, \"\") == \"\"){\r\n           // warning text\r\n           return document.getElementById(\"warningbutton\").innerHTML = \"harap mengisi form yang kosong !  \"\r\n        }\r\n       \r\n        \r\n        var regex = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/; // Dari internet\r\n        if(!regex .test(imgurl)) {\r\n            return document.getElementById(\"warningbutton\").innerHTML = \"url tidak valid!  \"\r\n        } else {\r\n            return document.getElementById(\"warningbutton\").innerHTML = \"url valid!  \"\r\n        }\r\n\r\n        \r\n        // const axios = require('axios');\r\n        // axios.post('http://localhost:2000/movies', {\r\n        //     id: this.state.data.length,\r\n        //     genre: genre,\r\n        //     title: title,\r\n        //     duration: ,\r\n        //     synopsis: \"Pasangan suami istri Ed Warren (Patrick Wilson) dan Lorraine Warren (Vera Farmiga) sepakat untuk meletakkan boneka Annabelle di ruang khusus mereka. Dibalik lemari kaca suci dan mendapat berkat dari seorang pendeta. Namun malapetaka datang saat Annabelle membangunkan roh-roh jahat yang ada di ruangan itu. Putri pasangan ini, Judy Warren (Mckenna Grace) dan temannya menjadi target teror baru Annabelle dan iblis jahat lainnya.\",\r\n        //     playingTime: [\r\n        //     9,\r\n        //     14,\r\n        //     20\r\n        //     ],\r\n        //     director: \"Gary Dauberman\",\r\n        //     image: \"https://media.21cineplex.com/webcontent/gallery/pictures/156074568118284_452x647.jpg\"\r\n        //     },).then(resp => {\r\n        //     console.log(resp.data);\r\n        // }).catch(error => {\r\n        //     console.log(error);\r\n        // });   \r\n\r\n    }\r\n    printGenreList = () => {\r\n        var jsx = this.state.genreList.map((val) => {\r\n            return(\r\n                <option value={val}>{val}</option>\r\n            )\r\n            \r\n        })\r\n        return jsx\r\n    }           \r\n        \r\n\r\n    render(){\r\n        return(\r\n            <div class=\"adminbackcolor\">\r\n                <Container fixed>\r\n                    <h1 className=\"mt-3\"><center>Manage Movie Page</center></h1>\r\n                    <input type=\"button\" value=\"Add Data\" className=\"btn btn-success mb-2 mt-2\" onClick={() => this.setState({modalOpen : true})}></input>\r\n                    {/*MODAL START */}\r\n                    <Modal isOpen={this.state.modalOpen} >\r\n                        <ModalHeader>\r\n                            Add Movie\r\n                        </ModalHeader>\r\n                        <ModalBody>\r\n                            <input type=\"text\" ref=\"inputtitle\" className=\"form-control\" placeholder=\"Title\"/>\r\n                            <input type=\"text\" ref=\"inputdirector\" className=\"form-control\" placeholder=\"Director\"/>\r\n                            <select required id = \"myList\" ref=\"inputgenre\" className=\"form-control\" placeholder=\"Genre\">\r\n                                    <option value=\"\" disabled selected hidden>Choose Genre</option>\r\n                                    {this.printGenreList()}\r\n                            </select>\r\n                            <input type=\"text\" ref=\"inputurl\"  className=\"form-control mb-2\" placeholder=\"Image Url\"/>\r\n                            <p id=\"warningbutton\" style={{color : \"red\"}}> </p>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                        <input type=\"button\" value=\"SAVE\" className=\"btn btn-success \" onClick={this.validateForm}/>\r\n                        <input type=\"button\" value=\"CANCEL\" className=\"btn btn-danger\" onClick={this.closeModal}/>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n                    {/*MODAL END */}\r\n                    <Paper>\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableCell>No</TableCell>\r\n                                <TableCell>Title</TableCell>\r\n                                <TableCell>Genre</TableCell>\r\n                                <TableCell>Image</TableCell>\r\n                                <TableCell>Director</TableCell>\r\n                                <TableCell>Playtime</TableCell>\r\n                                <TableCell>Duration</TableCell>\r\n                                <TableCell>Synopsis</TableCell>\r\n                                <TableCell>Action</TableCell>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {/* <TableRow>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow> */}\r\n                                {this.printMovieData()}\r\n                               \r\n                            </TableBody>\r\n                        </Table>\r\n                    </Paper>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default manageMovie;"]},"metadata":{},"sourceType":"module"}