{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enverd\\\\Purwadhika\\\\FrontEnd\\\\bioskopticketing\\\\src\\\\components\\\\header.jsx\";\nimport React from 'react';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport numeral from 'numeral';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { UserLogOut } from './../redux/actions/countActions';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Axios from 'axios'; // REACT HOOKS\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidUpdate = () => {\n      console.log(this.props);\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalOpen: false\n      });\n    };\n\n    this.onClickTopUp = () => {\n      var saldo = parseInt(this.refs.reftopup.value);\n      saldo = saldo + this.props.saldouser;\n      console.log(saldo); // Axios.patch('http://localhost:2000/users/2', {saldo : saldo})\n      // .then((res)=>{\n      //   window.alert(\"top up berhasil\")\n      // })\n\n      Axios.get('http://localhost:2000/users?username=' + this.props.currentUser).then(res => {\n        console.log(res.data);\n        Axios.patch('http://localhost:2000/users/' + res.data[0].id, {\n          saldo: saldo\n        }).then(res => {\n          this.setState({\n            statesaldo: saldo\n          });\n          window.alert(\"Top Up Berhasil\");\n          this.closeModal();\n        });\n      }).catch(err => {});\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false,\n      modalOpen: false,\n      statesaldo: this.props.saldouser\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.modalOpen,\n      toggle: this.closeModal,\n      size: \"lg\",\n      style: {\n        maxWidth: '800px',\n        width: '80%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Top Up Saldo\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \" Jumlah Saldo \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control mb-4\",\n      placeholder: \"saldo\",\n      value: this.props.saldouser,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"number\",\n      ref: \"reftopup\",\n      className: \"form-control mb-2\",\n      placeholder: \"Jumlah Top Up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"warningbutton\",\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \" \")), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"TOP UP\",\n      className: \"btn btn-success \",\n      onClick: () => this.onClickTopUp(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"CANCEL\",\n      className: \"btn btn-danger\",\n      onClick: () => this.closeModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))), React.createElement(Navbar, {\n      className: \"navbarheader\",\n      expand: \"md\",\n      style: {\n        height: \"45px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      className: \"headername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(NavbarBrand, {\n      className: \"headername\",\n      style: {\n        color: \"#ff4422\",\n        fontSize: \"20px\",\n        fontWeight: \"bolder\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Home\")), React.createElement(NavbarToggler, {\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Collapse, {\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"ml-auto \",\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(UncontrolledDropdown, {\n      className: \"headername mr-4\",\n      nav: true,\n      inNavbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(DropdownToggle, {\n      className: \"headername\",\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.props.currentUser !== \"\" && this.props.IS_LOGGED_IN === true ? \"Welcome, \" + this.props.currentUser : this.props.IS_LOGGED_IN === false ? \"You are currently not Logged in\" : null), React.createElement(DropdownMenu, {\n      style: {\n        backgroundColor: \"lightgrey\"\n      },\n      right: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(DropdownItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.props.currentUser !== \"\" && this.props.IS_LOGGED_IN === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(DropdownItem, {\n      className: \"headername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      onClick: () => this.props.UserLogOut(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Logout\"))), React.createElement(DropdownItem, {\n      className: \"headername filtercss\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      onClick: () => this.setState({\n        modalOpen: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Top Up Saldo\"))) : this.props.IS_LOGGED_IN === false ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(DropdownItem, {\n      className: \"headername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pages/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Register\")), React.createElement(DropdownItem, {\n      className: \"headername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pages/loginPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Login\"))) : null))), this.props.IS_ADMIN === true ? React.createElement(\"div\", {\n      className: \"headername mr-4 justify-content-center pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/manage\",\n      className: \"headername mr-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"MANAGE\")) : this.props.IS_ADMIN === false ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }) : null, this.props.IS_LOGGED_IN === false ? React.createElement(\"div\", {\n      className: \"row headername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      className: \"pl-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pages/loginPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: \"headername\",\n      style: {\n        color: \"white\",\n        fontWeight: \"bolder\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"LOGIN\"))), React.createElement(NavItem, {\n      className: \"pl-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pages/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: \"headername\",\n      style: {\n        color: \"white\",\n        fontWeight: \"bolder\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"REGISTER\")))) : this.props.IS_LOGGED_IN === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }) : null, this.props.IS_LOGGED_IN === true ? React.createElement(\"div\", {\n      className: \"headername  justify-content-center pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/history',\n      className: \"headername mr-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"History\")) : null, this.props.IS_LOGGED_IN === false ? null : React.createElement(\"div\", {\n      className: \"headername  justify-content-center pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Saldo : Rp. \" + numeral(this.state.statesaldo).format(0, 0), \" \"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.CURRENT_USER_DATA.currentUser,\n    IS_ADMIN: state.CURRENT_USER_DATA.IS_ADMIN,\n    IS_LOGGED_IN: state.CURRENT_USER_DATA.IS_LOGGED_IN,\n    saldouser: state.CURRENT_USER_DATA.saldo\n  };\n};\n\nexport default connect(mapStateToProps, {\n  UserLogOut\n})(Header);","map":{"version":3,"sources":["C:\\Users\\Enverd\\Purwadhika\\FrontEnd\\bioskopticketing\\src\\components\\header.jsx"],"names":["React","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","numeral","Link","connect","UserLogOut","Modal","ModalHeader","ModalBody","ModalFooter","Axios","Header","Component","constructor","props","componentDidUpdate","console","log","closeModal","setState","modalOpen","onClickTopUp","saldo","parseInt","refs","reftopup","value","saldouser","get","currentUser","then","res","data","patch","id","statesaldo","window","alert","catch","err","toggle","bind","state","isOpen","render","maxWidth","width","color","height","fontSize","fontWeight","IS_LOGGED_IN","backgroundColor","IS_ADMIN","format","mapStateToProps","CURRENT_USER_DATA"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,QADF,EAEEC,MAFF,EAGEC,aAHF,EAIEC,WAJF,EAKEC,GALF,EAMEC,OANF,EAOEC,OAPF,EAQEC,oBARF,EASEC,cATF,EAUEC,YAVF,EAWEC,YAXF,QAWsB,YAXtB;AAYA,OAAOC,OAAP,MAAoB,SAApB;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,iCAA3B;AACA,SAASC,KAAT,EAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,WAAxC,QAA2D,YAA3D;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAMA;;AACA,MAAMC,MAAN,SAAqBrB,KAAK,CAACsB,SAA3B,CAAqC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAWnBC,kBAXmB,GAWC,MAAM;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAjB;AACD,KAbkB;;AAAA,SAmBnBI,UAnBmB,GAmBP,MAAM;AAChB,WAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAG;AADA,OAAd;AAGD,KAvBkB;;AAAA,SAwBnBC,YAxBmB,GAwBJ,MAAM;AACnB,UAAIC,KAAK,GAAGC,QAAQ,CAAC,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,KAApB,CAApB;AACAJ,MAAAA,KAAK,GAAGA,KAAK,GAAG,KAAKR,KAAL,CAAWa,SAA3B;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ,EAHmB,CAKnB;AACA;AACA;AAGA;;AAEAZ,MAAAA,KAAK,CAACkB,GAAN,CAAU,0CAAwC,KAAKd,KAAL,CAAWe,WAA7D,EACCC,IADD,CACOC,GAAD,IAAO;AACXf,QAAAA,OAAO,CAACC,GAAR,CAAYc,GAAG,CAACC,IAAhB;AACAtB,QAAAA,KAAK,CAACuB,KAAN,CAAY,iCAA+BF,GAAG,CAACC,IAAJ,CAAS,CAAT,EAAYE,EAAvD,EAA2D;AAACZ,UAAAA,KAAK,EAAGA;AAAT,SAA3D,EACCQ,IADD,CACOC,GAAD,IAAO;AACX,eAAKZ,QAAL,CAAc;AACZgB,YAAAA,UAAU,EAAGb;AADD,WAAd;AAGAc,UAAAA,MAAM,CAACC,KAAP,CAAa,iBAAb;AACA,eAAKnB,UAAL;AAED,SARD;AASD,OAZD,EAaCoB,KAbD,CAaQC,GAAD,IAAO,CAEb,CAfD;AAkBD,KAtDkB;;AAGjB,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,KADG;AAEXvB,MAAAA,SAAS,EAAG,KAFD;AAGXe,MAAAA,UAAU,EAAG,KAAKrB,KAAL,CAAWa;AAHb,KAAb;AAMD;;AAIDa,EAAAA,MAAM,GAAG;AACP,SAAKrB,QAAL,CAAc;AACZwB,MAAAA,MAAM,EAAE,CAAC,KAAKD,KAAL,CAAWC;AADR,KAAd;AAGD;;AAqCDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,KAAKF,KAAL,CAAWtB,SAA1B;AAAqC,MAAA,MAAM,EAAE,KAAKF,UAAlD;AAA8D,MAAA,IAAI,EAAC,IAAnE;AAAwE,MAAA,KAAK,EAAE;AAAC2B,QAAAA,QAAQ,EAAE,OAAX;AAAoBC,QAAAA,KAAK,EAAE;AAA3B,OAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,EAIA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAoB,MAAA,SAAS,EAAC,mBAA9B;AAAkD,MAAA,WAAW,EAAC,OAA9D;AAAsE,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWa,SAAxF;AAAmG,MAAA,QAAQ,MAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,GAAG,EAAC,UAAzB;AAAoC,MAAA,SAAS,EAAC,mBAA9C;AAAkE,MAAA,WAAW,EAAC,eAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAUI;AAAG,MAAA,EAAE,EAAC,eAAN;AAAsB,MAAA,KAAK,EAAE;AAACoB,QAAAA,KAAK,EAAG;AAAT,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAVJ,CAJA,EAgBA,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAoC,MAAA,SAAS,EAAC,kBAA9C;AAAiE,MAAA,OAAO,EAAE,MAAI,KAAK1B,YAAL,EAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAoC,MAAA,SAAS,EAAC,gBAA9C;AAA+D,MAAA,OAAO,EAAE,MAAI,KAAKH,UAAL,EAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CAhBA,CADF,EAsBE,oBAAC,MAAD;AAAS,MAAA,SAAS,EAAC,cAAnB;AAAkC,MAAA,MAAM,EAAC,IAAzC;AAA8C,MAAA,KAAK,EAAE;AAAC8B,QAAAA,MAAM,EAAE;AAAT,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAa,MAAA,SAAS,EAAC,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAc,MAAA,SAAS,EAAC,YAAxB;AAAqC,MAAA,KAAK,EAAE;AAACD,QAAAA,KAAK,EAAG,SAAT;AAAoBE,QAAAA,QAAQ,EAAG,MAA/B;AAAuCC,QAAAA,UAAU,EAAG;AAApD,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADA,EAIE,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAE,KAAKV,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAME,oBAAC,QAAD;AAAU,MAAA,MAAM,EAAE,KAAKE,KAAL,CAAWC,MAA7B;AAAqC,MAAA,MAAM,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,MAAM,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGA,oBAAC,oBAAD;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAkD,MAAA,GAAG,MAArD;AAAsD,MAAA,QAAQ,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAC,YAA1B;AAAuC,MAAA,GAAG,MAA1C;AAA2C,MAAA,KAAK,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAK7B,KAAL,CAAWe,WAAX,KAA2B,EAA3B,IAAiC,KAAKf,KAAL,CAAWqC,YAAX,KAA4B,IAA7D,GAED,cAAc,KAAKrC,KAAL,CAAWe,WAFxB,GAID,KAAKf,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,GAEA,iCAFA,GAIA,IATA,CADJ,EAcI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE;AAACC,QAAAA,eAAe,EAAG;AAAnB,OAArB;AAAsD,MAAA,KAAK,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD,KAAKtC,KAAL,CAAWe,WAAX,KAA2B,EAA3B,IAAiC,KAAKf,KAAL,CAAWqC,YAAX,KAA4B,IAA7D,GAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,OAAO,EAAE,MAAM,KAAKrC,KAAL,CAAWT,UAAX,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,CADA,EAQA,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,sBAAxB;AAA+C,MAAA,KAAK,EAAE;AAAC0C,QAAAA,KAAK,EAAG;AAAT,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAG,MAAA,OAAO,EAAE,MAAM,KAAK5B,QAAL,CAAc;AAACC,QAAAA,SAAS,EAAG;AAAb,OAAd,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CARA,CAFC,GAmBD,KAAKN,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,GAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADA,EAMA,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADA,CANA,CAFA,GAeA,IAnCE,CADF,CAdJ,CAHA,EA2DG,KAAKrC,KAAL,CAAWuC,QAAX,KAAwB,IAAxB,GACD;AAAK,MAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAmB,MAAA,SAAS,EAAC,iBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADC,GAOD,KAAKvC,KAAL,CAAWuC,QAAX,KAAwB,KAAxB,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,GAGA,IArEF,EAyEC,KAAKvC,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,GACD;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAiC,MAAA,KAAK,EAAE;AAACJ,QAAAA,KAAK,EAAG,OAAT;AAAkBG,QAAAA,UAAU,EAAG;AAA/B,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADA,CADA,CADA,EAMA,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAgC,MAAA,KAAK,EAAE;AAACH,QAAAA,KAAK,EAAG,OAAT;AAAkBG,QAAAA,UAAU,EAAG;AAA/B,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,CADA,CANA,CADC,GAeD,KAAKpC,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,GAGA,IA3FA,EA8FC,KAAKrC,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,GACD;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,UAAV;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CADC,GAOD,IArGA,EAyGC,KAAKrC,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,GACD,IADC,GAGD;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAU,iBAAiBjD,OAAO,CAAC,KAAKwC,KAAL,CAAWP,UAAZ,CAAP,CAA+BmB,MAA/B,CAAsC,CAAtC,EAAwC,CAAxC,CAA3B,MADF,CA5GA,CADF,CANF,CAtBF,CADF;AAuJD;;AAhNkC;;AAmNrC,MAAMC,eAAe,GAAIb,KAAD,IAAW;AAC/B,SAAM;AACHb,IAAAA,WAAW,EAAGa,KAAK,CAACc,iBAAN,CAAwB3B,WADnC;AAEHwB,IAAAA,QAAQ,EAAGX,KAAK,CAACc,iBAAN,CAAwBH,QAFhC;AAGHF,IAAAA,YAAY,EAAGT,KAAK,CAACc,iBAAN,CAAwBL,YAHpC;AAIHxB,IAAAA,SAAS,EAAGe,KAAK,CAACc,iBAAN,CAAwBlC;AAJjC,GAAN;AAOH,CARD;;AAUA,eAAelB,OAAO,CAACmD,eAAD,EAAkB;AAAElD,EAAAA;AAAF,CAAlB,CAAP,CAAyCM,MAAzC,CAAf","sourcesContent":["import React from 'react';\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem } from 'reactstrap';\r\nimport numeral from 'numeral'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { UserLogOut } from './../redux/actions/countActions'\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport Axios from 'axios'\r\n\r\n\r\n\r\n\r\n\r\n// REACT HOOKS\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      isOpen: false,\r\n      modalOpen : false,\r\n      statesaldo : this.props.saldouser\r\n      \r\n    };\r\n  }\r\n  componentDidUpdate =() => {\r\n    console.log(this.props)\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n  closeModal =() => {\r\n    this.setState({\r\n      modalOpen : false\r\n    })\r\n  }\r\n  onClickTopUp = () => {\r\n    var saldo = parseInt(this.refs.reftopup.value)\r\n    saldo = saldo + this.props.saldouser\r\n    console.log(saldo)\r\n   \r\n    // Axios.patch('http://localhost:2000/users/2', {saldo : saldo})\r\n    // .then((res)=>{\r\n    //   window.alert(\"top up berhasil\")\r\n\r\n      \r\n    // })\r\n\r\n    Axios.get('http://localhost:2000/users?username='+this.props.currentUser)\r\n    .then((res)=>{\r\n      console.log(res.data)\r\n      Axios.patch('http://localhost:2000/users/'+res.data[0].id, {saldo : saldo})\r\n      .then((res)=>{\r\n        this.setState({\r\n          statesaldo : saldo\r\n        })\r\n        window.alert(\"Top Up Berhasil\")\r\n        this.closeModal()\r\n        \r\n      })\r\n    })\r\n    .catch((err)=>{\r\n\r\n    })\r\n    \r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.modalOpen} toggle={this.closeModal} size=\"lg\" style={{maxWidth: '800px', width: '80%'}}>\r\n        <ModalHeader>\r\n            Top Up Saldo\r\n        </ModalHeader>\r\n        <ModalBody>\r\n            <div> Jumlah Saldo </div>\r\n            <input type=\"text\"  className=\"form-control mb-4\" placeholder=\"saldo\" value={this.props.saldouser} disabled/>\r\n            <input type=\"number\" ref=\"reftopup\" className=\"form-control mb-2\" placeholder=\"Jumlah Top Up\"/>\r\n         \r\n\r\n            {/* <input type=\"number\" ref=\"inputpt\" min=\"1\" max=\"24\" className=\"form-control mb-2\" placeholder=\"Playtime\" /> */}\r\n                          \r\n                            \r\n                            \r\n            <p id=\"warningbutton\" style={{color : \"red\"}}> </p>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n        <input type=\"button\" value=\"TOP UP\" className=\"btn btn-success \" onClick={()=>this.onClickTopUp()} />\r\n        <input type=\"button\" value=\"CANCEL\" className=\"btn btn-danger\" onClick={()=>this.closeModal()} />\r\n        </ModalFooter>\r\n         </Modal>\r\n        <Navbar  className=\"navbarheader\" expand=\"md\" style={{height: \"45px\"}} >\r\n        <Link to='/' className=\"headername\">\r\n          <NavbarBrand  className=\"headername\" style={{color : \"#ff4422\", fontSize : \"20px\", fontWeight : \"bolder\"}}>Home</NavbarBrand>\r\n        </Link>\r\n          <NavbarToggler onClick={this.toggle} />\r\n          \r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"ml-auto \" navbar>\r\n            \r\n            {/*  DROPDOWN UNTUK STATE LOGGIN FALSE & LOGGIN TRUE */}\r\n            <UncontrolledDropdown className=\"headername mr-4\" nav inNavbar>\r\n                <DropdownToggle className=\"headername\" nav caret>\r\n                {this.props.currentUser !== \"\" && this.props.IS_LOGGED_IN === true\r\n                ?\r\n                \"Welcome, \" + this.props.currentUser \r\n                :\r\n                this.props.IS_LOGGED_IN === false\r\n                ?\r\n                \"You are currently not Logged in\"\r\n                :\r\n                null\r\n                }\r\n                </DropdownToggle>\r\n                {/*  */}\r\n                <DropdownMenu style={{backgroundColor : \"lightgrey\"}} right>\r\n                  <DropdownItem>\r\n                {this.props.currentUser !== \"\" && this.props.IS_LOGGED_IN === true\r\n                ?\r\n                <div>\r\n                <DropdownItem className=\"headername\">\r\n                  <Link to=\"/\">\r\n                    <p onClick={() => this.props.UserLogOut()}>Logout</p>\r\n                    \r\n                    {/* Function Here */}\r\n                  </Link>\r\n                </DropdownItem>\r\n                <DropdownItem className=\"headername filtercss\" style={{color : \"black\"}}>\r\n               \r\n                  <p onClick={() => this.setState({modalOpen : true})}>Top Up Saldo</p>\r\n                  \r\n                  {/* Function Here */}\r\n              \r\n                </DropdownItem>\r\n                </div>\r\n                :\r\n                this.props.IS_LOGGED_IN === false\r\n                ?\r\n                <div>\r\n                <DropdownItem className=\"headername\">\r\n                  <Link to=\"/pages/register\">\r\n                    Register\r\n                  </Link>\r\n                </DropdownItem>\r\n                <DropdownItem className=\"headername\">\r\n                <Link to=\"/pages/loginPage\">\r\n                    Login\r\n                  </Link>\r\n                </DropdownItem>\r\n                </div>\r\n                :\r\n                null\r\n                }\r\n                  </DropdownItem>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n             \r\n              {this.props.IS_ADMIN === true ?\r\n              <div className=\"headername mr-4 justify-content-center pt-2\">\r\n                <Link to='/manage' className=\"headername mr-4\">\r\n                    MANAGE \r\n                </Link>\r\n              </div>\r\n              :\r\n              this.props.IS_ADMIN === false ?\r\n              <div></div>\r\n              :\r\n              null\r\n              }\r\n                \r\n            {/* UNTUK MENGHILANGKAN LOGIN LINK */}\r\n            {this.props.IS_LOGGED_IN === false ? \r\n            <div className=\"row headername\">\r\n            <NavItem className=\"pl-3\">\r\n            <Link to='/pages/loginPage'>\r\n            <NavLink className=\"headername\"  style={{color : \"white\", fontWeight : \"bolder\"}}>LOGIN</NavLink>\r\n            </Link>\r\n            </NavItem>\r\n            <NavItem className=\"pl-3\">\r\n            <Link to='/pages/register'>\r\n            <NavLink className=\"headername\" style={{color : \"white\", fontWeight : \"bolder\"}}>REGISTER</NavLink>\r\n            </Link>\r\n            </NavItem>\r\n            </div>\r\n            \r\n            :\r\n            this.props.IS_LOGGED_IN === true ?\r\n            <div></div>\r\n            :\r\n            null\r\n              }\r\n\r\n            {this.props.IS_LOGGED_IN === true ? \r\n            <div className=\"headername  justify-content-center pt-2\">\r\n            <Link to={'/history'} className=\"headername mr-4\">\r\n                History\r\n            </Link>\r\n            </div>\r\n            :\r\n            null\r\n            }\r\n\r\n\r\n            {this.props.IS_LOGGED_IN === false ? \r\n            null\r\n          :\r\n            <div className=\"headername  justify-content-center pt-2\">\r\n              <NavItem>{\"Saldo : Rp. \" + numeral(this.state.statesaldo).format(0,0)} </NavItem>\r\n                \r\n           \r\n            </div>\r\n          }\r\n            \r\n            \r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n       currentUser : state.CURRENT_USER_DATA.currentUser,\r\n       IS_ADMIN : state.CURRENT_USER_DATA.IS_ADMIN,\r\n       IS_LOGGED_IN : state.CURRENT_USER_DATA.IS_LOGGED_IN,\r\n       saldouser : state.CURRENT_USER_DATA.saldo\r\n       \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { UserLogOut })(Header);"]},"metadata":{},"sourceType":"module"}