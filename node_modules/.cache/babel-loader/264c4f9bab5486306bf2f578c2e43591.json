{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Enverd\\\\Purwadhika\\\\FrontEnd\\\\bioskopticketing\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n// AXIOS GET ?\nconst INITIAL_STATE = {\n  currentUser: \"\",\n  IS_LOGGED_IN: false,\n  IS_ADMIN: false,\n  saldo: 0,\n  cartlength: 0\n};\n\nvar CountReducer = (state = INITIAL_STATE, action) => {\n  // function getSaldo(userid){\n  //     Axios.get('http://localhost:2000/users?username='+userid)\n  //         .then((res)=>{\n  //             console.log(res.data[0].saldo)\n  //              return res.data[0].saldo\n  //         }) \n  //         .catch((err)=>{\n  //             return err\n  //         })\n  // }\n  if (action.type === 'USER') {\n    // Axios.get('http://localhost:2000/users?username='+action.payload.username)\n    // .then((res)=>{\n    //      var saldouser =res.data[0].saldo\n    //      console.log(saldouser)\n    // })\n    // .catch((err)=>{\n    //     console.log(err)\n    // })\n    // GET SALDO \n    var userid = action.payload.username;\n    var saldo = action.payload.saldo;\n    localStorage.setItem('username', userid);\n    return _objectSpread({}, state, {\n      IS_LOGGED_IN: true,\n      IS_ADMIN: false,\n      currentUser: userid,\n      saldo: saldo\n    });\n  } else if (action.type === 'ADMIN') {\n    var userid = action.payload.username;\n    var saldo = action.payload.saldo;\n    localStorage.setItem('username', userid);\n    return _objectSpread({}, state, {\n      IS_LOGGED_IN: true,\n      IS_ADMIN: true,\n      currentUser: userid,\n      saldo: saldo\n    });\n  } else if (action.type === \"LOGOUT\") {\n    // localStorage.clear()\n    localStorage.removeItem(\"username\");\n    localStorage.setItem('cartuser', 0);\n    return INITIAL_STATE;\n  } else if (action.type === \"TRANSAKSI\") {\n    var transaksi = action.payload;\n    return _objectSpread({}, state, {\n      saldo: state.saldo + transaksi\n    });\n  } else if (action.type === \"UPDATE\") {\n    localStorage.setItem('cartuser', action.payload);\n    return _objectSpread({}, state, {\n      cartlength: action.payload\n    });\n  } else {\n    return state;\n  }\n};\n\nexport default CountReducer;","map":{"version":3,"sources":["C:\\Users\\Enverd\\Purwadhika\\FrontEnd\\bioskopticketing\\src\\redux\\reducers\\countReducers.js"],"names":["INITIAL_STATE","currentUser","IS_LOGGED_IN","IS_ADMIN","saldo","cartlength","CountReducer","state","action","type","userid","payload","username","localStorage","setItem","removeItem","transaksi"],"mappings":";AAKA;AAEA,MAAMA,aAAa,GAAG;AAClBC,EAAAA,WAAW,EAAG,EADI;AAElBC,EAAAA,YAAY,EAAG,KAFG;AAGlBC,EAAAA,QAAQ,EAAG,KAHO;AAIlBC,EAAAA,KAAK,EAAG,CAJU;AAKlBC,EAAAA,UAAU,EAAG;AALK,CAAtB;;AAYA,IAAIC,YAAY,GAAG,CAACC,KAAK,GAAGP,aAAT,EAAwBQ,MAAxB,KAAkC;AACjD;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA,MAAGA,MAAM,CAACC,IAAP,KAAgB,MAAnB,EAA0B;AAEtB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA,QAAIC,MAAM,GAAGF,MAAM,CAACG,OAAP,CAAeC,QAA5B;AACA,QAAIR,KAAK,GAAGI,MAAM,CAACG,OAAP,CAAeP,KAA3B;AACAS,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,MAAjC;AACA,6BAAUH,KAAV;AAAiBL,MAAAA,YAAY,EAAG,IAAhC;AAAsCC,MAAAA,QAAQ,EAAG,KAAjD;AAAwDF,MAAAA,WAAW,EAAGS,MAAtE;AAA8EN,MAAAA,KAAK,EAAGA;AAAtF;AACH,GAhBD,MAiBK,IAAGI,MAAM,CAACC,IAAP,KAAgB,OAAnB,EAA2B;AAI5B,QAAIC,MAAM,GAAGF,MAAM,CAACG,OAAP,CAAeC,QAA5B;AACA,QAAIR,KAAK,GAAGI,MAAM,CAACG,OAAP,CAAeP,KAA3B;AAGAS,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,MAAjC;AAEA,6BAAUH,KAAV;AAAiBL,MAAAA,YAAY,EAAG,IAAhC;AAAsCC,MAAAA,QAAQ,EAAG,IAAjD;AAAuDF,MAAAA,WAAW,EAAGS,MAArE;AAA6EN,MAAAA,KAAK,EAAGA;AAArF;AACH,GAXI,MAYA,IAAGI,MAAM,CAACC,IAAP,KAAgB,QAAnB,EAA4B;AAC7B;AACAI,IAAAA,YAAY,CAACE,UAAb,CAAwB,UAAxB;AAEAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,CAAjC;AACA,WAAOd,aAAP;AACH,GANI,MAOA,IAAGQ,MAAM,CAACC,IAAP,KAAgB,WAAnB,EAA+B;AAChC,QAAIO,SAAS,GAAGR,MAAM,CAACG,OAAvB;AACA,6BAAUJ,KAAV;AAAiBH,MAAAA,KAAK,EAAGG,KAAK,CAACH,KAAN,GAAYY;AAArC;AACH,GAHI,MAIA,IAAGR,MAAM,CAACC,IAAP,KAAgB,QAAnB,EAA4B;AAC7BI,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCN,MAAM,CAACG,OAAxC;AACA,6BAAUJ,KAAV;AAAiBF,MAAAA,UAAU,EAAGG,MAAM,CAACG;AAArC;AACH,GAHI,MAIA;AACD,WAAOJ,KAAP;AACH;AACJ,CA5DD;;AA+DA,eAAeD,YAAf","sourcesContent":["\r\n\r\n\r\n\r\n\r\n// AXIOS GET ?\r\n\r\nconst INITIAL_STATE = { \r\n    currentUser : \"\",\r\n    IS_LOGGED_IN : false,\r\n    IS_ADMIN : false,\r\n    saldo : 0,\r\n    cartlength : 0\r\n}\r\n\r\n\r\n\r\n\r\n\r\nvar CountReducer = (state = INITIAL_STATE, action) =>{\r\n    // function getSaldo(userid){\r\n    //     Axios.get('http://localhost:2000/users?username='+userid)\r\n    //         .then((res)=>{\r\n                \r\n    //             console.log(res.data[0].saldo)\r\n    //              return res.data[0].saldo\r\n                \r\n    //         }) \r\n    //         .catch((err)=>{\r\n    //             return err\r\n    //         })\r\n    // }\r\n    if(action.type === 'USER'){\r\n      \r\n        // Axios.get('http://localhost:2000/users?username='+action.payload.username)\r\n        // .then((res)=>{\r\n        //      var saldouser =res.data[0].saldo\r\n        //      console.log(saldouser)\r\n             \r\n        // })\r\n        // .catch((err)=>{\r\n        //     console.log(err)\r\n        // })\r\n        // GET SALDO \r\n        var userid = action.payload.username\r\n        var saldo = action.payload.saldo\r\n        localStorage.setItem('username', userid)\r\n        return{...state, IS_LOGGED_IN : true, IS_ADMIN : false, currentUser : userid, saldo : saldo}\r\n    }\r\n    else if(action.type === 'ADMIN'){\r\n        \r\n        \r\n        \r\n        var userid = action.payload.username\r\n        var saldo = action.payload.saldo\r\n      \r\n      \r\n        localStorage.setItem('username', userid)\r\n        \r\n        return{...state, IS_LOGGED_IN : true, IS_ADMIN : true, currentUser : userid, saldo : saldo}\r\n    }\r\n    else if(action.type === \"LOGOUT\"){\r\n        // localStorage.clear()\r\n        localStorage.removeItem(\"username\")\r\n        \r\n        localStorage.setItem('cartuser', 0)\r\n        return INITIAL_STATE\r\n    }\r\n    else if(action.type === \"TRANSAKSI\"){\r\n        var transaksi = action.payload\r\n        return{...state, saldo : state.saldo+transaksi}\r\n    }\r\n    else if(action.type === \"UPDATE\"){\r\n        localStorage.setItem('cartuser', action.payload)\r\n        return{...state, cartlength : action.payload}\r\n    }\r\n    else {\r\n        return state\r\n    }\r\n}\r\n\r\n\r\nexport default CountReducer;"]},"metadata":{},"sourceType":"module"}