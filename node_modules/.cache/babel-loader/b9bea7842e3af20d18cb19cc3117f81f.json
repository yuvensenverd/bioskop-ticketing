{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enverd\\\\Purwadhika\\\\FrontEnd\\\\bioskopticketing\\\\src\\\\pages\\\\seatReservation.jsx\";\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCouch } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport numeral from 'numeral';\nimport Axios from 'axios';\nimport PageNotFound from './../pages/PageNotFound';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { updateCart } from './../redux/actions/countActions';\n\nclass seatReservation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      seats: [],\n      seatReserved: [],\n      seatAvailable: [],\n      currentMovie: \"\",\n      seatBooked: [],\n      // [\"A2\", \"B5\"],\n      price: 35000,\n      finishUpdate: false,\n      currentDate: \"\"\n    };\n\n    this.componentDidMount = () => {\n      if (this.props.location.state !== undefined) {\n        const moviename = this.props.location.state.movie;\n        Axios.get('http://localhost:2000/movies?title=' + moviename).then(res => {\n          var booked = res.data[0].booked;\n          var moviename = res.data[0].title;\n          var today = new Date();\n          var date = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();\n          this.setState({\n            seatBooked: booked,\n            currentMovie: moviename,\n            currentDate: date\n          });\n          console.log(this.state.currentDate);\n        }).catch(err => {\n          console.log(err);\n        }); // PRINT SEAT ID , PUSH TO STATE SEATS & SEATSAVAILABLE\n\n        var alphabet = \"ABCDEFGHIJ\";\n        var index = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18];\n\n        for (var i = 0; i < alphabet.length; i++) {\n          for (var y = 0; y < index.length; y++) {\n            var arr = alphabet[i] + index[y];\n            this.state.seats.push(arr);\n\n            if (this.state.seatReserved.indexOf(arr) !== -1 || this.state.seatBooked.indexOf(arr) !== -1) {} else {\n              this.state.seatAvailable.push(arr);\n            }\n          }\n        }\n      } else {}\n    };\n\n    this.onClickSeat = seatid => {\n      // KALO YANG DITEKAN SEAT YANG RESERVED\n      if (this.state.seatReserved.indexOf(seatid) !== -1) {\n        this.setState({\n          seatAvailable: this.state.seatAvailable.concat(seatid),\n          seatReserved: this.state.seatReserved.filter(res => {\n            return res !== seatid;\n          })\n        });\n      } else {\n        // KALO YANG DITEKAN SEAT AVAILABLE\n        this.setState({\n          seatReserved: this.state.seatReserved.concat(seatid),\n          seatAvailable: this.state.seatAvailable.filter(res => {\n            return res !== seatid;\n          })\n        });\n      }\n    };\n\n    this.renderSeat = value => {\n      if (this.state.seatBooked.indexOf(value) === -1) {\n        return React.createElement(FontAwesomeIcon, {\n          size: \"2x\",\n          value: value,\n          className: this.state.seatReserved.indexOf(value) !== -1 ? \"seatreserved\" : \"seatavailable\",\n          icon: faCouch,\n          onClick: () => this.onClickSeat(value),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(FontAwesomeIcon, {\n          className: \"Booked\",\n          size: \"2x\",\n          value: value,\n          icon: faCouch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.printSeatReservation = () => {\n      var alphabet = \"ABCDEFGHIJ\";\n      var listalphabet = alphabet.split(\"\");\n      var output = listalphabet.map(val => {\n        return React.createElement(\"div\", {\n          className: \"row justify-content-center filtercss\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row-md-1 d-inline filtercss\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, val), React.createElement(\"div\", {\n          className: \"row-md-3 d-inline ml-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, this.renderSeat(val + \"1\"), this.renderSeat(val + \"2\"), this.renderSeat(val + \"3\"), this.renderSeat(val + \"4\")), React.createElement(\"div\", {\n          className: \"row-md-5 d-inline mr-5 ml-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, this.renderSeat(val + \"5\"), this.renderSeat(val + \"6\"), this.renderSeat(val + \"7\"), this.renderSeat(val + \"8\"), this.renderSeat(val + \"9\"), this.renderSeat(val + \"10\"), this.renderSeat(val + \"11\"), this.renderSeat(val + \"12\"), this.renderSeat(val + \"13\"), this.renderSeat(val + \"14\")), React.createElement(\"div\", {\n          className: \"row-md-3 d-inline mr-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, this.renderSeat(val + \"15\"), this.renderSeat(val + \"16\"), this.renderSeat(val + \"17\"), this.renderSeat(val + \"18\")));\n      });\n      return output;\n    };\n\n    this.printProceed = () => {\n      if (this.state.seatReserved.length === 0) {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"form-control btn-secondary filtercss mb-5\",\n          value: \"Buy Ticket Before Proceed\",\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        });\n      } else {\n        return (// <Link to={{pathname : \"/pages/transaction\", state : {seatnumber : this.state.seatReserved, moviename : this.state.currentMovie}}}>\n          React.createElement(\"input\", {\n            type: \"button\",\n            className: \"form-control btn-danger filtercss mb-5\",\n            value: \"Add to Cart\",\n            onClick: () => this.addToCart(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171\n            },\n            __self: this\n          }) // {/* </Link> */}\n\n        );\n      }\n    };\n\n    this.addToCart = () => {\n      Axios.get('http://localhost:2000/users?username=' + this.props.currentUser).then(res => {\n        var sama = false;\n        var cartuser = res.data[0].cart;\n        var arr = {\n          movtitle: this.state.currentMovie,\n          seat: this.state.seatReserved,\n          totalprice: this.state.price * this.state.seatReserved.length\n        };\n        res.data[0].cart.map((val, index) => {\n          if (arr.movtitle === val.movtitle) {\n            // KALAU ADA MOVIE YANG TITLENYA SAMA DENGAN CART USER \n            cartuser[index].totalprice = cartuser[index].totalprice + arr.totalprice;\n            cartuser[index].seat = [...cartuser[index].seat, ...arr.seat];\n            sama = true;\n          }\n        });\n\n        if (sama === false) {\n          cartuser.push(arr);\n        }\n\n        this.props.updateCart(cartuser.length);\n        Axios.patch('http://localhost:2000/users/' + res.data[0].id, {\n          cart: cartuser\n        }).then(res => {\n          this.setState({\n            finishUpdate: true\n          });\n          Axios.get('http://localhost:2000/movies?title=' + this.state.currentMovie).then(resmov => {\n            var moviebook = resmov.data[0].booked;\n            moviebook = [...resmov.data[0].booked, ...this.state.seatReserved];\n            Axios.patch('http://localhost:2000/movies/' + resmov.data[0].id, {\n              booked: moviebook\n            }).then(ress => {\n              console.log(\"Berhasil Seat \");\n            });\n          }).catch(err => {});\n        });\n      }).catch(err => {});\n    };\n  }\n\n  render() {\n    if (this.state.finishUpdate === true) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: \"/pages/transaction\",\n          state: {\n            seatnumber: this.state.seatReserved,\n            moviename: this.state.currentMovie\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      });\n    }\n\n    console.log(this.props.location.state);\n\n    if (this.props.location.state === undefined) {\n      return React.createElement(PageNotFound, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"mycontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container mt-5 pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filtercss mb-5 badge badge-sm badge-danger text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, this.state.currentMovie), React.createElement(\"div\", {\n      className: \"col mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filtercss row-md-4 text-center mb-5\",\n      style: {\n        fontSize: \"40px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Available Seats\"), this.printSeatReservation()), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mb-3 filtercss text-center\",\n      style: {\n        backgroundColor: \"grey\",\n        width: \"250px\",\n        height: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \" Screen \")), React.createElement(\"div\", {\n      className: \"d-flex row justify-content-center filtercss mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      className: \"Booked\",\n      size: \"2x\",\n      icon: faCouch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), \"\\xA0\\xA0 = BOOKED \\xA0\\xA0\\xA0\\xA0\", React.createElement(FontAwesomeIcon, {\n      className: \"seatreserved\",\n      size: \"2x\",\n      icon: faCouch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), \"\\xA0\\xA0 = RESERVED\\xA0\\xA0\\xA0\\xA0  \", React.createElement(FontAwesomeIcon, {\n      className: \"seatavailable\",\n      size: \"2x\",\n      icon: faCouch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), \"\\xA0\\xA0 = AVAILABLE\\xA0\\xA0\"), this.printProceed(), React.createElement(\"div\", {\n      className: \"d-flex row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"justify-content-left filtercss mr-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Total Price \\xA0\\xA0\", React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control mb-3\",\n      style: {\n        width: \"230px\",\n        fontWeight: \"bolder\",\n        fontSize: \"23px\"\n      },\n      value: \"Rp. \" + numeral(this.state.seatReserved.length * 35000).format(0, 0),\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"justify-content-left filtercss mr-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Number of Tickets  \\xA0\\xA0\", React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      style: {\n        width: \"250px\",\n        fontWeight: \"bolder\",\n        fontSize: \"23px\"\n      },\n      value: this.state.seatReserved.length + \"  Tickets\",\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"justify-content-left filtercss mr-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Seats Taken  \\xA0\\xA0\", React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      style: {\n        width: \"350px\",\n        fontWeight: \"bolder\",\n        fontSize: \"23px\"\n      },\n      value: this.state.seatReserved.join(\",\"),\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.CURRENT_USER_DATA.currentUser,\n    IS_ADMIN: state.CURRENT_USER_DATA.IS_ADMIN,\n    IS_LOGGED_IN: state.CURRENT_USER_DATA.IS_LOGGED_IN,\n    saldouser: state.CURRENT_USER_DATA.saldo\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateCart\n})(seatReservation);","map":{"version":3,"sources":["C:\\Users\\Enverd\\Purwadhika\\FrontEnd\\bioskopticketing\\src\\pages\\seatReservation.jsx"],"names":["React","FontAwesomeIcon","faCouch","Link","numeral","Axios","PageNotFound","connect","Redirect","updateCart","seatReservation","Component","state","seats","seatReserved","seatAvailable","currentMovie","seatBooked","price","finishUpdate","currentDate","componentDidMount","props","location","undefined","moviename","movie","get","then","res","booked","data","title","today","Date","date","getDate","getMonth","getFullYear","setState","console","log","catch","err","alphabet","index","i","length","y","arr","push","indexOf","onClickSeat","seatid","concat","filter","renderSeat","value","printSeatReservation","listalphabet","split","output","map","val","printProceed","addToCart","currentUser","sama","cartuser","cart","movtitle","seat","totalprice","patch","id","resmov","moviebook","ress","render","pathname","seatnumber","fontSize","backgroundColor","width","height","fontWeight","format","join","mapStateToProps","CURRENT_USER_DATA","IS_ADMIN","IS_LOGGED_IN","saldouser","saldo"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCouch } from '@fortawesome/free-solid-svg-icons'\r\nimport { Link } from 'react-router-dom'\r\nimport numeral from 'numeral'\r\nimport Axios from 'axios';\r\nimport PageNotFound from './../pages/PageNotFound'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { updateCart } from './../redux/actions/countActions'\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass seatReservation extends React.Component{\r\n    state = {\r\n        seats : [],\r\n        seatReserved : [],\r\n        seatAvailable : [],\r\n        currentMovie : \"\",\r\n        seatBooked : [], // [\"A2\", \"B5\"],\r\n        price : 35000,\r\n        finishUpdate : false,\r\n        currentDate : \"\"\r\n\r\n        \r\n    }\r\n    componentDidMount = () => {\r\n\r\n        if(this.props.location.state !== undefined){\r\n            \r\n            const moviename = this.props.location.state.movie\r\n     \r\n            Axios.get('http://localhost:2000/movies?title='+moviename)\r\n            .then((res) => {\r\n                var booked = res.data[0].booked\r\n                var moviename = res.data[0].title\r\n                var today = new Date()\r\n                var date = today.getDate()+ '/'+(today.getMonth() + 1) + '/' + today.getFullYear()  \r\n         \r\n                this.setState({\r\n                    seatBooked : booked,\r\n                    currentMovie : moviename,\r\n                    currentDate : date\r\n                })\r\n                console.log(this.state.currentDate)\r\n            })\r\n            .catch((err)=> {\r\n                console.log(err)\r\n            })\r\n        \r\n      \r\n            // PRINT SEAT ID , PUSH TO STATE SEATS & SEATSAVAILABLE\r\n            var alphabet = \"ABCDEFGHIJ\"\r\n            var index = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]\r\n            for(var i = 0; i<alphabet.length; i++){\r\n                for(var y = 0; y<index.length; y++){\r\n                    var arr = alphabet[i]+index[y]\r\n                    this.state.seats.push(arr)\r\n                    if(this.state.seatReserved.indexOf(arr) !== -1 || this.state.seatBooked.indexOf(arr) !== -1 ){\r\n                   \r\n    \r\n                    }else {\r\n                        this.state.seatAvailable.push(arr)\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            \r\n        }else{\r\n            \r\n        }\r\n        \r\n    }\r\n    \r\n\r\n    onClickSeat = (seatid) => {\r\n        // KALO YANG DITEKAN SEAT YANG RESERVED\r\n        if(this.state.seatReserved.indexOf(seatid) !== -1){\r\n            \r\n              this.setState({\r\n                seatAvailable: this.state.seatAvailable.concat(seatid),\r\n                seatReserved: this.state.seatReserved.filter((res) => { return res !== seatid})\r\n              })\r\n        }else {\r\n        // KALO YANG DITEKAN SEAT AVAILABLE\r\n            this.setState({\r\n                seatReserved : this.state.seatReserved.concat(seatid),\r\n                seatAvailable: this.state.seatAvailable.filter((res) => { return res !== seatid})\r\n            })\r\n        }\r\n    }\r\n    // masih test\r\n    \r\n    //background\r\n    //hour slot\r\n    //\r\n    renderSeat = (value) =>{\r\n        if(this.state.seatBooked.indexOf(value) === -1){\r\n\r\n        \r\n        return (\r\n            <FontAwesomeIcon  size=\"2x\" value={value} className={this.state.seatReserved.indexOf(value) !== -1 ? \"seatreserved\" : \"seatavailable\"} icon={faCouch} onClick={()=>this.onClickSeat(value)}></FontAwesomeIcon>\r\n        )\r\n        }else{\r\n            return(\r\n                <FontAwesomeIcon className=\"Booked\" size=\"2x\" value={value} icon={faCouch}></FontAwesomeIcon>\r\n            )\r\n        }\r\n    }\r\n    printSeatReservation = () => {\r\n        var alphabet = \"ABCDEFGHIJ\"\r\n        var listalphabet = alphabet.split(\"\")\r\n        var output = listalphabet.map((val)=>{\r\n            return(\r\n                <div className=\"row justify-content-center filtercss\">\r\n                            <div className=\"row-md-1 d-inline filtercss\">\r\n                            {val}\r\n                            </div>\r\n                            <div className=\"row-md-3 d-inline ml-5\">\r\n                                 {/* this.testing(\"val1\") */}\r\n                                 {this.renderSeat(val+\"1\")}\r\n                                 {this.renderSeat(val+\"2\")}\r\n                                 {this.renderSeat(val+\"3\")}\r\n                                 {this.renderSeat(val+\"4\")}\r\n                            </div>\r\n                            <div className=\"row-md-5 d-inline mr-5 ml-5\">\r\n                                 {this.renderSeat(val+\"5\")}\r\n                                 {this.renderSeat(val+\"6\")}\r\n                                 {this.renderSeat(val+\"7\")}\r\n                                 {this.renderSeat(val+\"8\")}\r\n                                 {this.renderSeat(val+\"9\")}\r\n                                 {this.renderSeat(val+\"10\")}\r\n                                 {this.renderSeat(val+\"11\")}\r\n                                 {this.renderSeat(val+\"12\")}\r\n                                 {this.renderSeat(val+\"13\")}\r\n                                 {this.renderSeat(val+\"14\")}\r\n                            </div>\r\n                            <div className=\"row-md-3 d-inline mr-5\">\r\n                                 {this.renderSeat(val+\"15\")}\r\n                                 {this.renderSeat(val+\"16\")}\r\n                                 {this.renderSeat(val+\"17\")}\r\n                                 {this.renderSeat(val+\"18\")}\r\n                                 \r\n                            </div>\r\n                            \r\n                        \r\n                        </div>\r\n                        \r\n                        \r\n            )\r\n        })\r\n \r\n        return output\r\n        \r\n    }\r\n\r\n    printProceed = () => {\r\n        if(this.state.seatReserved.length === 0){\r\n            return (\r\n                \r\n                <input type=\"button\" className=\"form-control btn-secondary filtercss mb-5\" value=\"Buy Ticket Before Proceed\" disabled></input>\r\n                \r\n            )\r\n            \r\n        }else {\r\n            return (\r\n                // <Link to={{pathname : \"/pages/transaction\", state : {seatnumber : this.state.seatReserved, moviename : this.state.currentMovie}}}>\r\n                    <input type=\"button\" className=\"form-control btn-danger filtercss mb-5\" value=\"Add to Cart\" onClick={()=>this.addToCart()}></input>\r\n                // {/* </Link> */}\r\n            )\r\n        }\r\n    }\r\n\r\n    addToCart = () => {\r\n        Axios.get('http://localhost:2000/users?username='+this.props.currentUser)\r\n        .then((res)=>{\r\n            var sama = false\r\n            var cartuser = res.data[0].cart\r\n            var arr = {\r\n\r\n                movtitle : this.state.currentMovie,\r\n                seat : this.state.seatReserved,\r\n                totalprice : this.state.price * this.state.seatReserved.length\r\n            }\r\n         \r\n        \r\n            res.data[0].cart.map((val, index)=>{\r\n                if(arr.movtitle === val.movtitle){\r\n                    // KALAU ADA MOVIE YANG TITLENYA SAMA DENGAN CART USER \r\n                    cartuser[index].totalprice = cartuser[index].totalprice + arr.totalprice\r\n          \r\n                    cartuser[index].seat = [...cartuser[index].seat, ...arr.seat]\r\n        \r\n                    sama = true\r\n                    \r\n                }\r\n            })\r\n            if ( sama === false ){\r\n                cartuser.push(arr)\r\n            }\r\n            this.props.updateCart(cartuser.length)\r\n            \r\n            Axios.patch('http://localhost:2000/users/' + res.data[0].id, {cart : cartuser})\r\n            .then((res)=>{\r\n                \r\n                this.setState({\r\n                    finishUpdate : true\r\n                })\r\n                Axios.get('http://localhost:2000/movies?title='+this.state.currentMovie)\r\n                .then((resmov)=>{\r\n               \r\n                    var moviebook = resmov.data[0].booked\r\n                  \r\n                    moviebook = [...resmov.data[0].booked, ...this.state.seatReserved]\r\n                   \r\n                    Axios.patch('http://localhost:2000/movies/'+resmov.data[0].id, {booked : moviebook})\r\n                    .then((ress)=>{\r\n                        console.log(\"Berhasil Seat \")\r\n                    })\r\n                })\r\n                .catch((err)=>{\r\n\r\n                })\r\n            })\r\n        })\r\n        .catch((err)=>{\r\n\r\n        })\r\n    }\r\n   \r\n    \r\n    render(){\r\n        if(this.state.finishUpdate === true){\r\n            return(\r\n                <Redirect to={{pathname : \"/pages/transaction\", state : {seatnumber : this.state.seatReserved, moviename : this.state.currentMovie}}}>\r\n                \r\n                 </Redirect> \r\n            )\r\n        }\r\n        console.log(this.props.location.state)\r\n        if(this.props.location.state === undefined){\r\n         \r\n            return (\r\n              \r\n                <PageNotFound/>\r\n            )\r\n        }\r\n        return(\r\n            <div className=\"mycontainer\">\r\n                <div className=\"container mt-5 pb-5\">\r\n                <div className=\"filtercss mb-5 badge badge-sm badge-danger text-center\">\r\n                        {this.state.currentMovie}\r\n                </div>\r\n                    <div className=\"col mb-5\">\r\n                        <div className=\"filtercss row-md-4 text-center mb-5\" style={{fontSize : \"40px\"}}>\r\n                              Available Seats\r\n                        </div>\r\n                        \r\n                        {this.printSeatReservation()}\r\n                    </div>\r\n                    <div className='d-flex justify-content-center'>\r\n                        <div className=\"mb-3 filtercss text-center\" style={{backgroundColor : \"grey\", width: \"250px\", height: \"30px\"}}> Screen </div>\r\n\r\n                    </div>\r\n                    <div className=\"d-flex row justify-content-center filtercss mb-4\" > <FontAwesomeIcon className=\"Booked\" size=\"2x\" icon={faCouch}></FontAwesomeIcon>&nbsp;&nbsp; = BOOKED &nbsp;&nbsp;&nbsp;&nbsp;<FontAwesomeIcon className=\"seatreserved\" size=\"2x\" icon={faCouch}></FontAwesomeIcon>&nbsp;&nbsp; = RESERVED&nbsp;&nbsp;&nbsp;&nbsp;  <FontAwesomeIcon className=\"seatavailable\" size=\"2x\" icon={faCouch}></FontAwesomeIcon>&nbsp;&nbsp; = AVAILABLE&nbsp;&nbsp;</div>\r\n                    \r\n                    \r\n                    {this.printProceed()}\r\n                    <div className=\"d-flex row justify-content-center\">\r\n                        <div className=\"justify-content-left filtercss mr-5 \">Total Price &nbsp;&nbsp;<input type=\"text\" className=\"form-control mb-3\" style={{width :\"230px\", fontWeight : \"bolder\", fontSize : \"23px\"}} value={\"Rp. \" + numeral(this.state.seatReserved.length*35000).format(0,0)}  readOnly></input></div>\r\n                        <div className=\"justify-content-left filtercss mr-5 \">Number of Tickets  &nbsp;&nbsp;<input type=\"text\" className=\"form-control\" style={{width :\"250px\", fontWeight : \"bolder\", fontSize : \"23px\"}} value={this.state.seatReserved.length + \"  Tickets\"}  readOnly></input></div>\r\n                        <div className=\"justify-content-left filtercss mr-5 \">Seats Taken  &nbsp;&nbsp;<input type=\"text\" className=\"form-control\" style={{width :\"350px\", fontWeight : \"bolder\", fontSize : \"23px\"}} value={this.state.seatReserved.join(\",\")} readOnly></input></div>\r\n                    </div>\r\n                   \r\n                </div>\r\n                \r\n               \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n       currentUser : state.CURRENT_USER_DATA.currentUser,\r\n       IS_ADMIN : state.CURRENT_USER_DATA.IS_ADMIN,\r\n       IS_LOGGED_IN : state.CURRENT_USER_DATA.IS_LOGGED_IN,\r\n       saldouser : state.CURRENT_USER_DATA.saldo\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateCart})( seatReservation);"]},"metadata":{},"sourceType":"module"}